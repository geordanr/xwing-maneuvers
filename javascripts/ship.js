// Generated by CoffeeScript 1.6.3
(function() {
  var exportObj;

  exportObj = typeof exports !== "undefined" && exports !== null ? exports : this;

  exportObj.NORTH = 0;

  exportObj.EAST = Math.PI / 2;

  exportObj.SOUTH = Math.PI;

  exportObj.WEST = -Math.PI / 2;

  exportObj.Ship = (function() {
    function Ship(args) {
      var _ref, _ref1, _ref2;
      this.name = args.name;
      this.size = args.size;
      this.ctx = args.ctx;
      this.center_x = (_ref = args.center_x) != null ? _ref : 0;
      this.center_y = (_ref1 = args.center_y) != null ? _ref1 : 0;
      this.heading_radians = (_ref2 = args.heading_radians) != null ? _ref2 : exportObj.NORTH;
    }

    Ship.prototype.draw = function() {
      var e;
      this.ctx.save();
      exportObj.transformToCenterAndHeading(this.ctx, this.center_x, this.center_y, this.heading_radians);
      try {
        switch (this.size) {
          case 'small':
            return exportObj.drawSmallBase(this.ctx);
          case 'large':
            return exportObj.drawLargeBase(this.ctx);
          default:
            throw new Error("Invalid size " + this.size);
        }
      } catch (_error) {
        e = _error;
        throw e;
      } finally {
        this.ctx.restore();
      }
    };

    Ship.prototype.placeTemplate = function(type, distance, direction) {
      var e;
      this.ctx.save();
      try {
        exportObj.transformToCenterAndHeading(this.ctx, this.center_x, this.center_y, this.heading_radians);
        exportObj.translateToNubsFromCenter(this.ctx, this.size);
        switch (type) {
          case 'straight':
          case 'koiogran':
            return exportObj.drawStraight(this.ctx, distance);
          case 'bank':
            return exportObj.drawBank(this.ctx, distance, direction);
          case 'turn':
            return exportObj.drawTurn(this.ctx, distance, direction);
          default:
            throw new Error("Invalid template type " + type);
        }
      } catch (_error) {
        e = _error;
        throw e;
      } finally {
        this.ctx.restore();
      }
    };

    return Ship;

  })();

}).call(this);
